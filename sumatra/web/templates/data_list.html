{% extends "base.html" %}

{% load filters %}

{% block title %}{{project.id}}: List of data files{% endblock %}

{% block css %}
    <link href="/static/css/dataTables.bootstrap.css" rel="stylesheet">
{% endblock %}

{% block content %}

{% if project.name %}
<h3>{{project.name}}</h3>
{% endif %}

<table id="data-keys" class="table table-striped table-condensed" cellspacing="0" width="100%">
    <thead>
    <tr>
      <th>Directory</th>
      <th>Filename</th>
      <th>Digest</th>
      <th>Size</th>
      <th>Date/Time</th>
      <th>Output of</th>
      <th>Input to</th>
    </tr>
    </thead>

    <tbody>
    </tbody>
</table>

{% endblock %}

{% block scripts %}
    <script type="text/javascript" language="javascript" src="/static/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="/static/js/dataTables.bootstrap.js"></script>
    <script type="text/javascript">
$(document).ready(function() {
    $('#nav-data').addClass('active');

    var table = $('#data-keys').dataTable( {
        "processing":       true,
        "serverSide":       true,
        "ajax":             "/{{project.id}}/datatable/datakey",
        "order":            [[ 4, "desc" ]]
    } );

    $('#data-keys tbody').on( 'click', 'tr', function () {
        $(this).toggleClass('info');
    } );
} );
    </script>
{% endblock %}
